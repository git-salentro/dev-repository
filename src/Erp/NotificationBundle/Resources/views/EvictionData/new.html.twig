{% extends 'ErpNotificationBundle::base.html.twig' %}

{% block pageContent %}
    {{ parent() }}
<section id="managers-profile" class="profile">
<div class="container">
        <div class="row">
            <div class="title-block text-center">
                {%- set title -%}
                    {%- if entity.id -%}
                        Template {{ entity.title }}
                    {%- else -%}
                        Send Eviction Template
                    {%- endif -%}
                {%- endset -%}
                <h1 class="bold-text text-center">{{ title }}</h1>
            </div>
        </div>

        <div class="notif-template-nav">
            <a href="{{ path('erp_notification_user_eviction') }}" class="btn red-btn">Eviction History</a>
        </div>
    {% include "ErpCoreBundle:crossBlocks:message.html.twig" with {'alert_ok' : 'alert_ok', 'alert_error' : 'alert_error'} %}
        {{ form_start(form, {'action': path('erp_notification_user_eviction_create') }) }}
        <div class="row">

            <div class="col-sm-6 col-sm-offset-3">
                <div class="form-group">
                    {{ form_label(form.days, null, {'label_attr': {'class': 'control-label'}}) }}
                    <div class="select-container">
                        {{ form_widget(form.days, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    {{ form_errors(form.days) }}
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 col-sm-offset-3">
                <div class="form-group">
                    {{ form_label(form.template, null, {'label_attr': {'class': 'control-label'}}) }}
                    <div class="select-container">
                        {{ form_widget(form.template, {'attr': {'class': 'form-control select-control'}}) }}
                    </div>
                    {{ form_errors(form.template) }}
                </div>
            </div>
        </div>
        <div class="row">
            <button
                    type="submit"
                    id="add-eviction"
                    class="btn red-btn pull-right"
            >
                Proceed to Next
            </button>
        </div>
        {{ form_end(form) }}

</div>
</section>
{% endblock %}

{% block javascript_inline %}
<script>
        /** input number validation */
        $('input[type="text"]#erp_notificationbundle_evictiondata_days').keydown(function (e) {
            // Allow: backspace, delete, tab, escape, enter and .
            if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                // Allow: Ctrl+A, Command+A
                (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) ||
                // Allow: home, end, left, right, down, up
                (e.keyCode >= 35 && e.keyCode <= 40)) {
                // let it happen, don't do anything
                return;
            }
            // Ensure that it is a number and stop the keypress
            if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                e.preventDefault();
            }
        });
</script>
{% endblock %}