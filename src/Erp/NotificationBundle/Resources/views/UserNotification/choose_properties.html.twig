{% extends 'ErpUserBundle:Profile:base.html.twig' %}

{% form_theme form _self %}

{%- block form_widget_simple -%}
    <input type="hidden" {{ block('widget_attributes') }} {% if value is not empty %}value="{{ value }}" {% endif %}/>
{%- endblock form_widget_simple -%}

{%- block checkbox_widget -%}
    <input type="hidden" {{ block('widget_attributes') }}{% if value is defined %} value="{{ value }}"{% endif %}{% if checked %} checked="checked"{% endif %} />
{%- endblock checkbox_widget -%}

{% block pageContent %}
    {{ parent() }}
    <section id="managers-profile" class="profile">
        <div class="container">
            <div class="row">
                <div class="title-block">
                    <h1 class="bold-text">Choose properties</h1>
                </div>
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <td><input type="checkbox" name="all_elements" /></td>
                        <td>Property</td>
                    </tr>
                </thead>
                <tbody>
                {% for property in properties %}
                    <tr>
                        <td><input type="checkbox" name="idx[]" value="{{ property.id }}" /></td>
                        <td>{{ property.name }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

            {{ form_start(form, {'action': path('erp_notification_user_notification_choose_properties')}) }}
                {{ form_widget(form.daysBefore) }}
                {{ form_widget(form.daysAfter) }}
                {{ form_widget(form.sendAlertAutomatically) }}
                {{ form_widget(form.submit, {'attr': {'class': 'btn red-btn'}}) }}
            {{ form_end(form) }}

            {% include "ErpCoreBundle:crossBlocks:message.html.twig" with {'alert_ok' : 'alert_ok', 'alert_error' : 'alert_error'} %}
        </div>
    </section>
{% endblock %}